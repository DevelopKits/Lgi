#!/usr/bin/make
#
# This makefile generated by LgiIde
# http://www.memecode.com/lgi.php
#

.SILENT :

CC = g++
Target = lgires
ifndef Build
	Build = Debug
endif
Gui = X
BuildDir = $(Build)$(Gui)

Flags = -fPIC -w -fno-inline -rdynamic -fpermissive
Defs = -DLINUX -D_REENTRANT -D$(Gui)WIN

ifeq ($(Build),Debug)
	Defs += -D_DEBUG
	Flags += -g
	Tag = d
else
	Flags += -s -Os
endif

# Libraries
Libs = \
			-static-libgcc \
			-lgcc \
			-lpthread \
			-lstdc++ \
			-llgi$(Tag) \
			-L/home/fret/Code/Lgi/$(BuildDir)

# Includes
# Includes
Inc =		-I/usr/include/xcb \
			-I/usr/include/glib-2.0 \
			-I/usr/lib/glib-2.0/include \
			-I/usr/include/pango-1.0 \
			-I/usr/include/cairo \
			-I../include/common \
			-I../include/linux/Xcb \
			-I./Code
			
# Dependencies
Depends =	 \
			LgiRes_Dialog.o \
			LgiRes_TableLayout.o \
			LgiRes_Menu.o \
			LgiRes_String.o \
			LgiResApp.o \
			Search.o \
			ShowLanguages.o \
			GAbout.o \
			GDocApp.o \
			LgiRes_ControlTree.o \
			LgiMain.o \
			Gif.o \
			Lzw.o

# Target
# Executable target
$(Target) : ../$(BuildDir)/liblgi$(Tag).so outputfolder $(Depends)
	@echo Linking $(Target) [$(Gui)/$(Build)]...
	$(CC) -rdynamic -Wl,-soname,$(TargetFile),-export-dynamic,-R. -f -o \
		$(Target) $(addprefix $(BuildDir)/,$(Depends)) $(Libs)
	@echo Done.

../$(BuildDir)/liblgi$(Tag).so : FORCE
	export Build=$(Build); \
		export Gui=$(Gui); \
		$(MAKE) -C .. -f Makefile.linux

FORCE :

# Create the output folder
outputfolder :
	-mkdir -p $(BuildDir) 2> /dev/null

# Clean out targets
clean :
	rm -f $(BuildDir)/*.o $(Target).
	@echo Cleaned $(BuildDir)

LgiRes_Dialog.o : ./Code/LgiRes_Dialog.cpp ./Code/LgiResEdit.h \
	./Code/LgiRes_Dialog.h \
	../include/common/GButton.h \
	../include/common/GVariant.h \
	../include/common/GToken.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

LgiRes_ControlTree.o : ./Code/LgiRes_ControlTree.cpp ./Code/LgiResEdit.h \
	./Code/LgiRes_Dialog.h \
	../include/common/GButton.h \
	../include/common/GVariant.h \
	../include/common/GToken.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

LgiRes_TableLayout.o : ./Code/LgiRes_TableLayout.cpp ./Code/LgiResEdit.h \
	./Code/LgiRes_Dialog.h \
	../include/common/GButton.h \
	../include/common/GVariant.h \
	../include/common/GToken.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

LgiRes_Menu.o : ./Code/LgiRes_Menu.cpp ./Code/LgiResEdit.h \
	./Code/LgiRes_Menu.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

LgiRes_String.o : ./Code/LgiRes_String.cpp ./Code/LgiResEdit.h \
	./Code/LgiRes_String.h \
	../include/common/GToken.h \
	../include/common/GVariant.h \
	../include/common/GTextLabel.h \
	../include/common/GCombo.h \
	../include/common/GButton.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

LgiResApp.o : ./Code/LgiResApp.cpp ./Code/LgiResEdit.h \
	./Code/LgiRes_Dialog.h \
	./Code/LgiRes_Menu.h \
	../include/common/GAbout.h \
	../include/common/GTextLabel.h \
	../include/common/GEdit.h \
	../include/common/GCheckBox.h \
	../include/common/GProgressDlg.h \
	../include/common/GTextView3.h \
	./Code/resdefs.h \
	../include/common/GToken.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

Search.o : ./Code/Search.cpp ../include/common/Lgi.h \
	./Code/LgiResEdit.h \
	./Code/resdefs.h \
	../include/common/GCombo.h \
	./Code/LgiRes_Dialog.h \
	./Code/LgiRes_Menu.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

ShowLanguages.o : ./Code/ShowLanguages.cpp ../include/common/Lgi.h \
	./Code/LgiResEdit.h \
	../include/common/GList.h \
	../include/common/GButton.h \
	../include/common/GListItemCheckBox.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

GAbout.o : ../src/common/Lgi/GAbout.cpp ../include/common/Lgi.h \
	../include/common/GAbout.h \
	../include/common/GDocView.h \
	../include/common/GBitmap.h \
	../include/common/GButton.h
	@echo $(<F) [$(Gui)]
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

GDocApp.o : ../src/common/Lgi/GDocApp.cpp
	@echo $(<F) [$(Gui)]	
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

Gif.o : ../src/common/Gdc2/Filters/Gif.cpp
	@echo $(<F) [$(Gui)]	
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

Lzw.o : ../src/common/Gdc2/Filters/Lzw.cpp
	@echo $(<F) [$(Gui)]	
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

LgiMain.o : ../src/common/Lgi/LgiMain.cpp
	@echo $(<F) [$(Gui)]	
	$(CC) $(Inc) $(Flags) $(Defs) -c $< -o $(BuildDir)/$(@F)

Lgi.h : ../include/common/LgiInc.h \
	../include/common/LgiMsgs.h \
	../include/common/LgiDefs.h \
	../include/common/GString.h \
	../include/common/LgiClass.h \
	../include/linux/X/LgiOsDefs.h \
	../include/common/Progress.h \
	../include/common/GFile.h \
	../include/common/GMem.h \
	../include/common/Gdc2.h \
	../include/common/LgiRes.h \
	../include/common/LgiClasses.h \
	../include/common/LgiCommon.h

GFile.h : ../include/linux/X/LgiOsDefs.h \
	../include/common/GMem.h \
	../include/common/GStream.h \
	../include/common/GArray.h

LgiCommon.h : ../include/common/GArray.h \
	../include/common/LgiClass.h

LgiRes.h : ../include/common/Res.h \
	../include/common/GContainers.h

GStream.h : ../include/common/GDom.h

GList.h : ../include/common/GPopup.h \
	../include/common/GArray.h

GToken.h : ../include/common/GArray.h

GTextView3.h : ../include/common/GDocView.h \
	../include/common/GUndo.h

GVariant.h : ../include/common/GDom.h \
	../include/common/GDateTime.h \
	../include/common/GContainers.h \
	../include/common/GHashTable.h

GString.h : ../include/common/LgiInc.h \
	../include/common/LgiDefs.h

LgiRes_Dialog.h : ../include/common/GXml.h \
	../include/common/Res.h \
	./Code/LgiRes_String.h

GXml.h : ../include/common/GFile.h \
	../include/common/GContainers.h

LgiClasses.h : ../include/common/GSemaphore.h \
	../include/common/GLibrary.h \
	../include/linux/X/LgiOsClasses.h \
	../include/common/GArray.h \
	../include/common/LgiCommon.h \
	../include/common/GXmlTree.h \
	../include/common/GDragAndDrop.h \
	../include/common/GMenu.h \
	../include/common/LgiWidgets.h \
	../include/common/Progress.h \
	../include/common/GProgress.h \
	../include/common/GFileSelect.h \
	../include/common/GFindReplaceDlg.h \
	../include/common/GToolBar.h \
	../include/common/GThread.h \
	../include/common/GClipBoard.h \
	../include/common/GInput.h \
	../include/common/GPrinter.h

LgiOsClasses.h : ../include/linux/X/xbitmapimage.h \
	../include/linux/X/xfont.h \
	../include/linux/X/xevent.h \
	../include/linux/X/xapplication.h \
	../include/linux/X/xpainter.h \
	../include/linux/X/xfontmetrics.h

GThread.h : ../include/common/GSemaphore.h

GXmlTree.h : ../include/common/GHashTable.h

xfont.h : ../include/linux/X/LgiLinux.h \
	../include/linux/X/xpainter.h

LgiLinux.h : ../include/common/GMem.h \
	../include/common/GToken.h \
	../include/common/GRect.h \
	../include/linux/X/xlist.h

xbitmapimage.h : ../include/linux/X/LgiLinux.h

xfontmetrics.h : ../include/linux/X/xfont.h

LgiOsDefs.h : ../include/common/LgiInc.h \
	../include/linux/X/xmainwindow.h

GListItemCheckBox.h : ../include/common/GList.h

GMenu.h : ../include/common/GMenuImpl.h \
	../include/common/GXmlTree.h \
	../include/common/Res.h

GMenuImpl.h : ../include/common/GPopup.h

Progress.h : ../include/common/GSemaphore.h

GMem.h : ../include/common/LgiDefs.h \
	../include/common/LgiInc.h

GArray.h : ../include/common/LgiDefs.h \
	../include/common/GMem.h

xevent.h : ../include/linux/X/LgiLinux.h

LgiRes_Menu.h : ../include/common/GXml.h \
	../include/common/Res.h \
	./Code/LgiRes_String.h

GDom.h : ../include/common/LgiInterfaces.h \
	../include/common/GArray.h

LgiInterfaces.h : ../include/common/GArray.h

GAbout.h : ../include/common/GDocView.h

GHashTable.h : ../include/common/GArray.h \
	../include/common/GString.h

LgiRes_String.h : ../include/common/GXml.h \
	../include/common/Res.h

LgiResEdit.h : ../include/common/Lgi.h \
	../include/common/INet.h \
	../include/common/GXml.h \
	../include/common/GTabLayout.h \
	../include/common/GDocApp.h \
	./Code/resource.h \
	../include/common/GTree.h \
	../include/common/GDataDlg.h \
	./Code/LgiRes_String.h

INet.h : ../include/common/GMem.h \
	../include/common/GContainers.h \
	../include/common/LgiNetInc.h \
	../include/common/GStream.h \
	../include/common/LgiInterfaces.h

GDocApp.h : ../include/common/Lgi.h \
	../include/common/GXml.h \
	../include/common/GMru.h

GDataDlg.h : ../include/common/GProperties.h \
	../include/common/GScrollBar.h \
	../include/common/GTextLabel.h

GProperties.h : ../include/common/GContainers.h \
	../include/common/LgiClass.h

GTabLayout.h : ../include/common/Lgi.h \
	../include/common/GTabView.h

LgiClass.h : ../include/common/LgiInc.h

Gdc2.h : ../include/common/LgiDefs.h \
	../include/common/LgiClass.h \
	../include/linux/X/LgiOsDefs.h \
	../include/common/Progress.h \
	../include/common/GFile.h \
	../include/common/GMem.h \
	../include/linux/X/Core.h \
	../include/common/GContainers.h \
	../include/common/GLibrary.h \
	../include/common/GRect.h \
	../include/common/GFont.h \
	../include/common/GFilter.h

GFont.h : ../include/common/GRect.h \
	../include/common/GProperties.h \
	../include/linux/X/LgiOsClasses.h \
	../include/common/GLibrary.h \
	../include/common/GFilterUtils.h

GFilter.h : ../include/common/GContainers.h \
	../include/common/GProperties.h

xmainwindow.h : ../include/linux/X/LgiLinux.h \
	../include/linux/X/xwidget.h

GContainers.h : ../include/common/LgiInc.h \
	../include/linux/X/LgiOsDefs.h \
	../include/common/GStream.h

Res.h : ../include/common/GXmlTree.h \
	../include/common/GProperties.h

xwidget.h : ../include/linux/X/xevent.h \
	../include/common/GArray.h

GDragAndDrop.h : ../include/common/GVariant.h

GTree.h : ../include/common/GList.h

xpainter.h : ../include/linux/X/xwidget.h \
	../include/linux/X/xbitmapimage.h

xapplication.h : ../include/linux/X/xwidget.h \
	../include/linux/X/LgiOsDefs.h \
	../include/common/GContainers.h \
	../include/common/GSemaphore.h

VPATH=%.cpp \
	$(BuildDir)

